session_name: {{configuration.configuration}}
shell_command_before:
  - source {{virtualenv_bin}}/activate
  - cd {{configuration.dir}}

windows:
  - window_name: home
    shell_command_before: &ssh_docker
      - cfy ssh
      - sudo docker exec -it cfy bash
    panes: [cd ~]
  - window_name: manager
    shell_command_before: *ssh_docker
    panes: [cd /opt/manager]
  - window_name: cfy
    panes: []
  - window_name: interpreter
    panes:
        - shell_command:
            - ptipython
            - |
                import systest_manager.configuration;
                config = systest_manager.configuration.Configuration('.');
                client = config.client
